<!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> <script> function relocate(url) { let loc = window.location.pathname; if (loc === '' || loc === '/') { window.location = url; } } let lang = window.navigator.language.toLocaleLowerCase() || 'zh'; if (lang.indexOf("zh-") != -1) { relocate('index.html'); } else if (lang.indexOf('en') != -1) { relocate('index_en.html'); } else { relocate('index.html'); } </script><title>递归算法分析工具 RecursiveTree 使用介绍 &mdash; Algviz</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/css/sections/repo-list.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/css/globals/common.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/css/globals/responsive.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/css/posts/index.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/vendor/octicons/octicons/octicons.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/css/pages/index.min.css"><link rel="canonical" href="https://algviz.com/cn/RecursiveTree/"><link rel="alternate" type="application/atom+xml" title="Algviz" href="https://algviz.com/feed.xml"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/favicon.ico"><meta property="og:title" content="递归算法分析工具 RecursiveTree 使用介绍"><meta name="keywords" content="算法可视化 Python 数据结构 动画演示"><meta name="og:keywords" content="算法可视化 Python 数据结构 动画演示"><meta name="description" content="大家是否有过被递归算法绕糊涂的经历呢？如果有的话，那请不要错过 algviz 提供的递归树对象（RecursiveTree）。只需在算法中简单的调用对应的接口，就可以方便的看到算法的递归运行过程。"><meta name="og:description" content="大家是否有过被递归算法绕糊涂的经历呢？如果有的话，那请不要错过 algviz 提供的递归树对象（RecursiveTree）。只需在算法中简单的调用对应的接口，就可以方便的看到算法的递归运行过程。"><meta property="og:url" content="https://algviz.com/cn/RecursiveTree/"><meta property="og:site_name" content="Algviz"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="article:published_time" content="2022-09-29"> <script src="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/js/jquery-ui.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/js/main.min.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-4Z0KQSTDLS"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-4Z0KQSTDLS'); </script></head><body class="" data-mz=""><header class="site-header"><div class="container"> <span> <a href="https://algviz.com/" title="Algviz"> <img class="header-logo" src="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/img/logo.svg" alt="algviz.com"> </a> </span><nav class="site-header-nav" style="display:inline-flex" role="navigation"> <a href="https://algviz.com/index.html" class=" site-header-nav-item" target="" title="主页">主页</a> <a href="https://algviz.com/cn/index.html" class=" site-header-nav-item" target="" title="博客">博客</a> <a href="https://algviz.com/en/RecursiveTree/" class="site-header-nav-item"><img src="/assets/img/flag-us.svg" class="site-header-nav-flag"></a></nav></div></header><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/css/globals/base16.monokai.min.css"><section class="collection-head small geopattern" data-pattern-id="递归算法分析工具 Recurs"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">递归算法分析工具 RecursiveTree 使用介绍</h1><div class="collection-info"> <span class="meta-info" style="padding-right:3px"> <span class="octicon octicon-calendar"></span> 2022/09/29 </span> <span class="meta-info" style="padding-right:3px"> <span class="octicon octicon-file-directory"></span> <a href="https://algviz.com/cn/categories.html#工具" title="工具">工具</a> </span> <span class="meta-info" style="padding-right:3px"> <span class="octicon octicon-file-directory"></span> <a href="https://algviz.com/cn/categories.html#递归" title="递归">递归</a> </span> <span class="meta-info" style="padding-right:3px"> <span class="octicon octicon-clock"></span> 共 1162 字，约 4 分钟 </span></div></div></div></div></div></section><br><section class="container content"><div class="columns"><div class="column three-fourths" ><article class="article-content markdown-body"><p>大家是否有过被递归算法绕糊涂的经历呢？如果有的话，那请不要错过 algviz 提供的递归树对象（RecursiveTree）。只需在算法中简单的调用对应的接口，就可以方便的看到算法的递归运行过程。</p><h2 id="关于递归树">关于递归树</h2><p>递归树（RecursiveTree）是一颗多叉树，树中的每个节点代表递归算法要解决的一个子问题。递归算法的运行过程也是递归树的创建和遍历过程：</p><ul><li>当算法进行递归调用时，递归树中父问题对应的节点将会新增一个子节点，同时新增的子节点被标记为绿色；</li><li>而当算法解决了一个子问题并进行回溯时，子问题对应的节点会被标记为灰色，同时当前正在处理的问题会被标记为红色。</li></ul><p>通过递归树，我们可以直观的看到递归算法的运行路径，同时还可以了解到递归深度、广度等信息。</p><h3 id="接口介绍">接口介绍</h3><p>要使用递归树，我们只需要做以下3个步骤：</p><ol><li><strong>创建递归树</strong>：这一步只需要在算法<strong>进入递归函数之前</strong>创建一个 <a href="https://algviz.readthedocs.io/en/latest/api.html#algviz.tree.RecursiveTree">algviz.RecursiveTree</a> 对象即可；</li><li><strong>向前递归</strong>：在递归函数的入口处调用 <a href="https://algviz.readthedocs.io/en/latest/api.html#algviz.tree.RecursiveTree.forward">RecursiveTree.forward</a> 接口并传入子问题的名称即可；</li><li><strong>向后回溯</strong>：在递归函数的出口处调用 <a href="https://algviz.readthedocs.io/en/latest/api.html#algviz.tree.RecursiveTree.backward">RecursiveTree.backward</a> 接口即可。</li></ol><h2 id="使用说明">使用说明</h2><h3 id="斐波那契数列">斐波那契数列</h3><p>通常大家在学习递归算法时都会接触到<a href="https://leetcode.cn/problems/fei-bo-na-qi-shu-lie-lcof/">斐波那契数列问题</a>，下面来看一下如何使用 RecursiveTree 来对斐波那契数列问题的求解过程进行可视化！</p><p>首先看一下斐波那契数列问题的递归求解算法：</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span>
    <span class="k">return</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></div><p>要对算法进行可视化，我们只需要遵循上面三个步骤对算法进行改造即可。不多说了，直接看一下改造后的代码：</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">algviz</span>

<span class="n">viz</span> <span class="o">=</span> <span class="n">algviz</span><span class="p">.</span><span class="n">Visualizer</span><span class="p">()</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">"Fibonacci Recursive Tree"</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">algviz</span><span class="p">.</span><span class="n">RecursiveTree</span><span class="p">(</span><span class="n">viz</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>  <span class="c1"># 1.创建递归树
</span>
<span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">tree</span><span class="p">.</span><span class="n">forward</span><span class="p">(</span><span class="n">n</span><span class="p">);</span> <span class="n">viz</span><span class="p">.</span><span class="n">display</span><span class="p">()</span>      <span class="c1"># 2. 递归入口
</span>    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">tree</span><span class="p">.</span><span class="n">backward</span><span class="p">();</span> <span class="n">viz</span><span class="p">.</span><span class="n">display</span><span class="p">()</span>  <span class="c1"># 3.1 递归出口 1
</span>        <span class="k">return</span> <span class="n">n</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">tree</span><span class="p">.</span><span class="n">backward</span><span class="p">();</span> <span class="n">viz</span><span class="p">.</span><span class="n">display</span><span class="p">()</span>      <span class="c1"># 3.2 递归出口 2
</span>    <span class="k">return</span> <span class="n">res</span>

<span class="k">print</span><span class="p">(</span><span class="s">"fib(4)={}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">fib</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span>
</code></pre></div></div><p><em>注意：当递归函数中有多个出口时，需要在每个出口处都调用 <code class="language-plaintext highlighter-rouge">RecursiveTree.backward</code> 接口。</em></p><p><strong>可视化后的动画如下图所示：</strong></p><p><img src="https://cdn.jsdelivr.net/gh/zjl9959/algviz-launch@master/svgs/RecursiveTree_Fibonacci.svg" alt="RecursiveTree_Fibonacci" /></p><h2 id="补充说明">补充说明</h2><ul><li>使用递归树（RecursiveTree），需要安装 <a href="https://pypi.org/project/algviz/0.1.6/">algviz 0.1.6</a> 及以上的版本，环境配置请参考：<a href="https://algviz.com/cn/installation.html">安装步骤</a></li><li><em>Algviz 是一个开源项目，感兴趣的朋友也可以去我的 <a href="https://github.com/zjl9959/algviz">Github</a> 点一个 Star！</em></li></ul><br><div class="article-license"><p>本文遵守<a href="https://creativecommons.org/licenses/by-nd/2.0/"> Attribution-NoDerivs 2.0 Generic</a>许可协议。 <img src="/assets/img/license.png" alt="Attribution-NoDerivs 2.0 Generic"></p></div></article></div><div class="column one-fourth"><h3>搜索：</h3><div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"></div><ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul><script src="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://algviz.com/assets/search_data.json?v=1668523277', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 5, fuzzy: false, exclude: ['algviz'] }) </script><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"><dl></dl></section></div><script src="https://cdn.jsdelivr.net/gh/zjl9959/algviz.com@master/assets/js/jquery.toc.min.js"></script></div></div></section><footer class="container"><div class="site-footer" role="contentinfo"><div class="copyright left mobile-block"> © 2022 <span title="zjl9959@gmail.com">zjl9959@gmail.com</span> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">顶部</a></div><ul class="site-footer-links right mobile-hidden"><li> <a href="javascript:window.scrollTo(0,0)" >顶部</a></li></ul><ul class="site-footer-links mobile-hidden"><li> <a href="https://algviz.com/index.html" title="主页" target="">主页</a></li><li> <a href="https://algviz.com/cn/index.html" title="博客" target="">博客</a></li><li><a href="https://algviz.com/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li></ul></div></footer><div class="tools-wrapper"> <a class="gotop" href="#" title="顶部"><span class="octicon octicon-arrow-up"></span></a></div></body></html>
